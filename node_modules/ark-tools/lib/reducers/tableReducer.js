"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var tableReducer = function tableReducer(_ref) {
  var key = _ref.key,
      _ref$data = _ref.data,
      data = _ref$data === void 0 ? [] : _ref$data,
      _ref$pageSize = _ref.pageSize,
      pageSize = _ref$pageSize === void 0 ? 50 : _ref$pageSize,
      _ref$pageSizeList = _ref.pageSizeList,
      pageSizeList = _ref$pageSizeList === void 0 ? [50, 100, 250] : _ref$pageSizeList,
      _ref$pageNo = _ref.pageNo,
      pageNo = _ref$pageNo === void 0 ? 1 : _ref$pageNo,
      _ref$sortColumn = _ref.sortColumn,
      sortColumn = _ref$sortColumn === void 0 ? null : _ref$sortColumn,
      _ref$columnFilters = _ref.columnFilters,
      columnFilters = _ref$columnFilters === void 0 ? [] : _ref$columnFilters,
      _ref$tableCount = _ref.tableCount,
      tableCount = _ref$tableCount === void 0 ? 0 : _ref$tableCount;
  var SET_DATA = "".concat(key, "/SET_DATA");
  var CLEAR_DATA = "".concat(key, "/CLEAR_DATA");
  var SET_PAGE_SIZE = "".concat(key, "/SET_PAGE_SIZE");
  var SET_PAGE_NO = "".concat(key, "/SET_PAGE_NO");
  var SET_SORT_COLUMN = "".concat(key, "/SET_SORT_COLUMN");
  var CLEAR_SORT_COLUMN = "".concat(key, "/CLEAR_SORT_COLUMN");
  var SET_COLUMN_FILTERS = "".concat(key, "/SET_COLUMN_FILTERS");
  var CLEAR_COLUMN_FILTERS = "".concat(key, "/CLEAR_COLUMN_FILTERS");
  var SET_TABLE_COUNT = "".concat(key, "/SET_TABLE_COUNT");
  var RESET_TABLE_SETTINGS = "".concat(key, "/RESET_TABLE_SETTINGS");
  var tablesOptionsInitialState = {
    data: data,
    pageSize: pageSize,
    pageSizeList: pageSizeList,
    pageNo: pageNo,
    sortColumn: sortColumn,
    columnFilters: columnFilters,
    tableCount: tableCount
  };

  var tableOptionsReducer = function tableOptionsReducer() {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : tablesOptionsInitialState;
    var action = arguments.length > 1 ? arguments[1] : undefined;

    switch (action.type) {
      case SET_DATA:
        return _objectSpread({}, state, {
          data: action.data
        });

      case CLEAR_DATA:
        return _objectSpread({}, state, {
          data: tablesOptionsInitialState.data
        });

      case SET_PAGE_SIZE:
        return _objectSpread({}, state, {
          pageSize: action.pageSize
        });

      case SET_PAGE_NO:
        return _objectSpread({}, state, {
          pageNo: action.pageNo
        });

      case SET_SORT_COLUMN:
        return _objectSpread({}, state, {
          sortColumn: sortColumn
        });

      case CLEAR_SORT_COLUMN:
        return _objectSpread({}, state, {
          sortColumn: tablesOptionsInitialState.sortColumn
        });

      case SET_COLUMN_FILTERS:
        return _objectSpread({}, state, {
          columnFilters: action.columnFilters
        });

      case CLEAR_COLUMN_FILTERS:
        return _objectSpread({}, state, {
          columnFilters: tablesOptionsInitialState.columnFilters
        });

      case SET_TABLE_COUNT:
        return _objectSpread({}, state, {
          tableCount: action.tableCount
        });

      case RESET_TABLE_SETTINGS:
        return _objectSpread({}, state, {
          pageSize: tablesOptionsInitialState.pageSize,
          pageNo: tablesOptionsInitialState.pageNo,
          sortColumn: tablesOptionsInitialState.sortColumn,
          columnFilters: tablesOptionsInitialState.columnFilters,
          tableCount: tablesOptionsInitialState.tableCount
        });

      default:
        return state;
    }
  };

  var setData = function setData(_ref2) {
    var data = _ref2.data;
    return {
      type: SET_DATA,
      data: data
    };
  };

  var clearData = function clearData() {
    return {
      type: CLEAR_DATA
    };
  };

  var setPageSize = function setPageSize(_ref3) {
    var pageSize = _ref3.pageSize;
    return {
      type: SET_PAGE_SIZE,
      pageSize: pageSize
    };
  };

  var setPageNo = function setPageNo(_ref4) {
    var pageNo = _ref4.pageNo;
    return {
      type: SET_PAGE_NO,
      pageNo: pageNo
    };
  };

  var setSortColumn = function setSortColumn(_ref5) {
    var col = _ref5.col,
        dir = _ref5.dir;
    return {
      type: SET_SORT_COLUMN,
      SET_SORT_COLUMN: "".concat(col, " ").concat(dir)
    };
  };

  var setTableCount = function setTableCount(_ref6) {
    var tableCount = _ref6.tableCount;
    return {
      type: SET_TABLE_COUNT,
      tableCount: tableCount
    };
  };

  var setColumnFilters = function setColumnFilters(_ref7) {
    var date = _ref7.date;
    return {
      type: SET_COLUMN_FILTERS,
      date: date
    };
  };

  var clearColumnFilters = function clearColumnFilters() {
    return {
      type: CLEAR_COLUMN_FILTERS
    };
  };

  var resetTableSettings = function resetTableSettings() {
    return {
      type: RESET_TABLE_SETTINGS
    };
  };

  return {
    tableOptionsReducer: tableOptionsReducer,
    setData: setData,
    clearData: clearData,
    setPageSize: setPageSize,
    setPageNo: setPageNo,
    setSortColumn: setSortColumn,
    setColumnFilters: setColumnFilters,
    clearColumnFilters: clearColumnFilters,
    setTableCount: setTableCount,
    resetTableSettings: resetTableSettings
  };
};

var _default = tableReducer;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZWR1Y2Vycy90YWJsZVJlZHVjZXIudHMiXSwibmFtZXMiOlsidGFibGVSZWR1Y2VyIiwia2V5IiwiZGF0YSIsInBhZ2VTaXplIiwicGFnZVNpemVMaXN0IiwicGFnZU5vIiwic29ydENvbHVtbiIsImNvbHVtbkZpbHRlcnMiLCJ0YWJsZUNvdW50IiwiU0VUX0RBVEEiLCJDTEVBUl9EQVRBIiwiU0VUX1BBR0VfU0laRSIsIlNFVF9QQUdFX05PIiwiU0VUX1NPUlRfQ09MVU1OIiwiQ0xFQVJfU09SVF9DT0xVTU4iLCJTRVRfQ09MVU1OX0ZJTFRFUlMiLCJDTEVBUl9DT0xVTU5fRklMVEVSUyIsIlNFVF9UQUJMRV9DT1VOVCIsIlJFU0VUX1RBQkxFX1NFVFRJTkdTIiwidGFibGVzT3B0aW9uc0luaXRpYWxTdGF0ZSIsInRhYmxlT3B0aW9uc1JlZHVjZXIiLCJzdGF0ZSIsImFjdGlvbiIsInR5cGUiLCJzZXREYXRhIiwiY2xlYXJEYXRhIiwic2V0UGFnZVNpemUiLCJzZXRQYWdlTm8iLCJzZXRTb3J0Q29sdW1uIiwiY29sIiwiZGlyIiwic2V0VGFibGVDb3VudCIsInNldENvbHVtbkZpbHRlcnMiLCJkYXRlIiwiY2xlYXJDb2x1bW5GaWx0ZXJzIiwicmVzZXRUYWJsZVNldHRpbmdzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUVBLElBQU1BLFlBQVksR0FBRyxTQUFmQSxZQUFlLE9Ba0JmO0FBQUEsTUFqQkpDLEdBaUJJLFFBakJKQSxHQWlCSTtBQUFBLHVCQWhCSkMsSUFnQkk7QUFBQSxNQWhCSkEsSUFnQkksMEJBaEJHLEVBZ0JIO0FBQUEsMkJBZkpDLFFBZUk7QUFBQSxNQWZKQSxRQWVJLDhCQWZPLEVBZVA7QUFBQSwrQkFkSkMsWUFjSTtBQUFBLE1BZEpBLFlBY0ksa0NBZFcsQ0FBQyxFQUFELEVBQUssR0FBTCxFQUFVLEdBQVYsQ0FjWDtBQUFBLHlCQWJKQyxNQWFJO0FBQUEsTUFiSkEsTUFhSSw0QkFiSyxDQWFMO0FBQUEsNkJB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QixHQUFHLFNBQW5CQSxnQkFBbUI7QUFBQSxRQUFHQyxJQUFILFNBQUdBLElBQUg7QUFBQSxXQUF3QztBQUMvRFYsTUFBQUEsSUFBSSxFQUFFUixrQkFEeUQ7QUFFL0RrQixNQUFBQSxJQUFJLEVBQUpBO0FBRitELEtBQXhDO0FBQUEsR0FBekI7O0FBSUEsTUFBTUMsa0JBQWtCLEdBQUcsU0FBckJBLGtCQUFxQjtBQUFBLFdBQU87QUFDaENYLE1BQUFBLElBQUksRUFBRVA7QUFEMEIsS0FBUDtBQUFBLEdBQTNCOztBQUdBLE1BQU1tQixrQkFBa0IsR0FBRyxTQUFyQkEsa0JBQXFCO0FBQUEsV0FBTztBQUNoQ1osTUFBQUEsSUFBSSxFQUFFTDtBQUQwQixLQUFQO0FBQUEsR0FBM0I7O0FBSUEsU0FBTztBQUNMRSxJQUFBQSxtQkFBbUIsRUFBbkJBLG1CQURLO0FBRUxJLElBQUFBLE9BQU8sRUFBUEEsT0FGSztBQUdMQyxJQUFBQSxTQUFTLEVBQVRBLFNBSEs7QUFJTEMsSUFBQUEsV0FBVyxFQUFYQSxXQUpLO0FBS0xDLElBQUFBLFNBQVMsRUFBVEEsU0FMSztBQU1MQyxJQUFBQSxhQUFhLEVBQWJBLGFBTks7QUFPTEksSUFBQUEsZ0JBQWdCLEVBQWhCQSxnQkFQSztBQVFMRSxJQUFBQSxrQkFBa0IsRUFBbEJBLGtCQVJLO0FBU0xILElBQUFBLGFBQWEsRUFBYkEsYUFUSztBQVVMSSxJQUFBQSxrQkFBa0IsRUFBbEJBO0FBVkssR0FBUDtBQVlELENBdEpEOztlQXdKZW5DLFkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNb21lbnQgfSBmcm9tIFwibW9tZW50XCI7XHJcblxyXG5jb25zdCB0YWJsZVJlZHVjZXIgPSAoe1xyXG4gIGtleSxcclxuICBkYXRhID0gW10sXHJcbiAgcGFnZVNpemUgPSA1MCxcclxuICBwYWdlU2l6ZUxpc3QgPSBbNTAsIDEwMCwgMjUwXSxcclxuICBwYWdlTm8gPSAxLFxyXG4gIHNvcnRDb2x1bW4gPSBudWxsLFxyXG4gIGNvbHVtbkZpbHRlcnMgPSBbXSxcclxuICB0YWJsZUNvdW50ID0gMFxyXG59OiB7XHJcbiAga2V5OiBzdHJpbmc7XHJcbiAgZGF0YT86IGFueTtcclxuICBwYWdlU2l6ZT86IG51bWJlcjtcclxuICBwYWdlU2l6ZUxpc3Q/OiBhbnlbXTtcclxuICBwYWdlTm8/OiBudW1iZXI7XHJcbiAgc29ydENvbHVtbj86IHN0cmluZyB8IG51bGw7XHJcbiAgY29sdW1uRmlsdGVycz86IGFueVtdO1xyXG4gIHRhYmxlQ291bnQ/OiBudW1iZXI7XHJcbn0pID0+IHtcclxuICBjb25zdCBTRVRfREFUQSA9IGAke2tleX0vU0VUX0RBVEFgO1xyXG4gIGNvbnN0IENMRUFSX0RBVEEgPSBgJHtrZXl9L0NMRUFSX0RBVEFgO1xyXG4gIGNvbnN0IFNFVF9QQUdFX1NJWkUgPSBgJHtrZXl9L1NFVF9QQUdFX1NJWkVgO1xyXG4gIGNvbnN0IFNFVF9QQUdFX05PID0gYCR7a2V5fS9TRVRfUEFHRV9OT2A7XHJcbiAgY29uc3QgU0VUX1NPUlRfQ09MVU1OID0gYCR7a2V5fS9TRVRfU09SVF9DT0xVTU5gO1xyXG4gIGNvbnN0IENMRUFSX1NPUlRfQ09MVU1OID0gYCR7a2V5fS9DTEVBUl9TT1JUX0NPTFVNTmA7XHJcbiAgY29uc3QgU0VUX0NPTFVNTl9GSUxURVJTID0gYCR7a2V5fS9TRVRfQ09MVU1OX0ZJTFRFUlNgO1xyXG4gIGNvbnN0IENMRUFSX0NPTFVNTl9GSUxURVJTID0gYCR7a2V5fS9DTEVBUl9DT0xVTU5fRklMVEVSU2A7XHJcbiAgY29uc3QgU0VUX1RBQkxFX0NPVU5UID0gYCR7a2V5fS9TRVRfVEFCTEVfQ09VTlRgO1xyXG4gIGNvbnN0IFJFU0VUX1RBQkxFX1NFVFRJTkdTID0gYCR7a2V5fS9SRVNFVF9UQUJMRV9TRVRUSU5HU2A7XHJcblxyXG4gIGNvbnN0IHRhYmxlc09wdGlvbnNJbml0aWFsU3RhdGUgPSB7XHJcbiAgICBkYXRhLFxyXG4gICAgcGFnZVNpemUsXHJcbiAgICBwYWdlU2l6ZUxpc3QsXHJcbiAgICBwYWdlTm8sXHJcbiAgICBzb3J0Q29sdW1uLFxyXG4gICAgY29sdW1uRmlsdGVycyxcclxuICAgIHRhYmxlQ291bnRcclxuICB9O1xyXG5cclxuICBjb25zdCB0YWJsZU9wdGlvbnNSZWR1Y2VyID0gKFxyXG4gICAgc3RhdGUgPSB0YWJsZXNPcHRpb25zSW5pdGlhbFN0YXRlLFxyXG4gICAgYWN0aW9uOiBhbnlcclxuICApID0+IHtcclxuICAgIHN3aXRjaCAoYWN0aW9uLnR5cGUpIHtcclxuICAgICAgY2FzZSBTRVRfREFUQTpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICBkYXRhOiBhY3Rpb24uZGF0YVxyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgQ0xFQVJfREFUQTpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICBkYXRhOiB0YWJsZXNPcHRpb25zSW5pdGlhbFN0YXRlLmRhdGFcclxuICAgICAgICB9O1xyXG4gICAgICBjYXNlIFNFVF9QQUdFX1NJWkU6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgcGFnZVNpemU6IGFjdGlvbi5wYWdlU2l6ZVxyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgU0VUX1BBR0VfTk86XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgcGFnZU5vOiBhY3Rpb24ucGFnZU5vXHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSBTRVRfU09SVF9DT0xVTU46XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgc29ydENvbHVtblxyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgQ0xFQVJfU09SVF9DT0xVTU46XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgc29ydENvbHVtbjogdGFibGVzT3B0aW9uc0luaXRpYWxTdGF0ZS5zb3J0Q29sdW1uXHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSBTRVRfQ09MVU1OX0ZJTFRFUlM6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgICAgY29sdW1uRmlsdGVyczogYWN0aW9uLmNvbHVtbkZpbHRlcnNcclxuICAgICAgICB9O1xyXG4gICAgICBjYXNlIENMRUFSX0NPTFVNTl9GSUxURVJTOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAgIGNvbHVtbkZpbHRlcnM6IHRhYmxlc09wdGlvbnNJbml0aWFsU3RhdGUuY29sdW1uRmlsdGVyc1xyXG4gICAgICAgIH07XHJcbiAgICAgIGNhc2UgU0VUX1RBQkxFX0NPVU5UOlxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICAgIHRhYmxlQ291bnQ6IGFjdGlvbi50YWJsZUNvdW50XHJcbiAgICAgICAgfTtcclxuICAgICAgY2FzZSBSRVNFVF9UQUJMRV9TRVRUSU5HUzpcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgICBwYWdlU2l6ZTogdGFibGVzT3B0aW9uc0luaXRpYWxTdGF0ZS5wYWdlU2l6ZSxcclxuICAgICAgICAgIHBhZ2VObzogdGFibGVzT3B0aW9uc0luaXRpYWxTdGF0ZS5wYWdlTm8sXHJcbiAgICAgICAgICBzb3J0Q29sdW1uOiB0YWJsZXNPcHRpb25zSW5pdGlhbFN0YXRlLnNvcnRDb2x1bW4sXHJcbiAgICAgICAgICBjb2x1bW5GaWx0ZXJzOiB0YWJsZXNPcHRpb25zSW5pdGlhbFN0YXRlLmNvbHVtbkZpbHRlcnMsXHJcbiAgICAgICAgICB0YWJsZUNvdW50OiB0YWJsZXNPcHRpb25zSW5pdGlhbFN0YXRlLnRhYmxlQ291bnRcclxuICAgICAgICB9O1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBzdGF0ZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBzZXREYXRhID0gKHsgZGF0YSB9OiB7IGRhdGE6IGFueSB9KSA9PiAoe1xyXG4gICAgdHlwZTogU0VUX0RBVEEsXHJcbiAgICBkYXRhXHJcbiAgfSk7XHJcbiAgY29uc3QgY2xlYXJEYXRhID0gKCkgPT4gKHtcclxuICAgIHR5cGU6IENMRUFSX0RBVEFcclxuICB9KTtcclxuICBjb25zdCBzZXRQYWdlU2l6ZSA9ICh7IHBhZ2VTaXplIH06IHsgcGFnZVNpemU6IG51bWJlciB9KSA9PiAoe1xyXG4gICAgdHlwZTogU0VUX1BBR0VfU0laRSxcclxuICAgIHBhZ2VTaXplXHJcbiAgfSk7XHJcbiAgY29uc3Qgc2V0UGFnZU5vID0gKHsgcGFnZU5vIH06IHsgcGFnZU5vOiBudW1iZXIgfSkgPT4gKHtcclxuICAgIHR5cGU6IFNFVF9QQUdFX05PLFxyXG4gICAgcGFnZU5vXHJcbiAgfSk7XHJcbiAgY29uc3Qgc2V0U29ydENvbHVtbiA9ICh7IGNvbCwgZGlyIH06IHsgY29sOiBzdHJpbmc7IGRpcjogc3RyaW5nIH0pID0+ICh7XHJcbiAgICB0eXBlOiBTRVRfU09SVF9DT0xVTU4sXHJcbiAgICBTRVRfU09SVF9DT0xVTU46IGAke2NvbH0gJHtkaXJ9YFxyXG4gIH0pO1xyXG4gIGNvbnN0IHNldFRhYmxlQ291bnQgPSAoeyB0YWJsZUNvdW50IH06IHsgdGFibGVDb3VudDogbnVtYmVyIH0pID0+ICh7XHJcbiAgICB0eXBlOiBTRVRfVEFCTEVfQ09VTlQsXHJcbiAgICB0YWJsZUNvdW50XHJcbiAgfSk7XHJcbiAgY29uc3Qgc2V0Q29sdW1uRmlsdGVycyA9ICh7IGRhdGUgfTogeyBkYXRlOiBNb21lbnQgfCBudWxsIH0pID0+ICh7XHJcbiAgICB0eXBlOiBTRVRfQ09MVU1OX0ZJTFRFUlMsXHJcbiAgICBkYXRlXHJcbiAgfSk7XHJcbiAgY29uc3QgY2xlYXJDb2x1bW5GaWx0ZXJzID0gKCkgPT4gKHtcclxuICAgIHR5cGU6IENMRUFSX0NPTFVNTl9GSUxURVJTXHJcbiAgfSk7XHJcbiAgY29uc3QgcmVzZXRUYWJsZVNldHRpbmdzID0gKCkgPT4gKHtcclxuICAgIHR5cGU6IFJFU0VUX1RBQkxFX1NFVFRJTkdTXHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICB0YWJsZU9wdGlvbnNSZWR1Y2VyLFxyXG4gICAgc2V0RGF0YSxcclxuICAgIGNsZWFyRGF0YSxcclxuICAgIHNldFBhZ2VTaXplLFxyXG4gICAgc2V0UGFnZU5vLFxyXG4gICAgc2V0U29ydENvbHVtbixcclxuICAgIHNldENvbHVtbkZpbHRlcnMsXHJcbiAgICBjbGVhckNvbHVtbkZpbHRlcnMsXHJcbiAgICBzZXRUYWJsZUNvdW50LFxyXG4gICAgcmVzZXRUYWJsZVNldHRpbmdzXHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHRhYmxlUmVkdWNlcjtcclxuIl19